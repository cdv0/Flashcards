<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Study</title>
        <link rel="stylesheet" href="../styles/study.css" />
    </head>
    <body>
        <div class="page-container">
            <header class="top-bar">
                <h2 class="title">Studying flashcards <span class="set-name">CECS 448 Midterm 2</span></h2>
                <div class="right-controls">
                    <button class="quiz-btn">Switch to quiz</button>
                    <button class="restart-btn">Restart</button>
                </div>
            </header>

            <div class="progress-section">
                <div class="progress-bar">
                    <div class="fill" style="width:50%"></div>
                </div>
                <div class="progress-labels">
                    <span>2 of 4 studied</span>
                    <span>Completed: 50%</span>
                </div>
            </div>

            <div class="main-content">
                <div class="flashcard">
                    <button class="dropdown-btn">Add to ‚ñæ</button>
                    <button class="delete-btn">üóë</button>
                    <button class="edit-btn">‚úé</button>

                    <div class="flashcard-text">Term</div>

                    <div class="nav-buttons">
                        <button id="prev-btn">‚Üê Previous</button>
                        <span id="counter">1 of 4</span>
                        <button id="next-btn">Next ‚Üí</button>
                    </div>
                </div>

                <aside class="subset-panel">
                    <div class="subset-header">
                        <h3>STUDY BY SUBSET</h3>
                        <button class="subset-menu-btn">‚ãÆ</button>
                        <!-- Subset Options Modal -->
                        <div id="subsetOptionsModal" class="subset-modal hidden">
                            <div class="subset-modal-content">
                                <button class="subset-modal-item" id="renameSubset">Rename</button>
                                <button class="subset-modal-item" id="editSubset">Edit Subset</button>
                                <button class="subset-modal-item delete" id="deleteSubset">Delete Subset</button>
                            </div>
                        </div>
                    </div>

                    <div class="subset-card">
                        <span>Not confident</span>
                        <span>4 TERMS</span>
                        <button class="subset-card-menu-btn">‚ãÆ</button>
                    </div>

                    <div class="subset-card">
                        <span>Semi-confident</span>
                        <span>4 TERMS</span>
                        <button class="subset-card-menu-btn">‚ãÆ</button>
                    </div>

                    <div class="subset-card">
                        <span>Confident</span>
                        <span>4 TERMS</span>
                        <button class="subset-card-menu-btn">‚ãÆ</button>
                    </div>

                    <div class="add-category">Add new category</div>
                </aside>

            </div>
        </div>

        <script src="../scripts/study.js" defer></script>
        <script>
        document.addEventListener("DOMContentLoaded", () => {
            const subsetMenuBtn = document.querySelector('.subset-menu-btn');
            const subsetModal = document.getElementById('subsetOptionsModal');

            // open/close modal
            subsetMenuBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                subsetModal.classList.toggle('hidden');
            });

            // close when clicking away
            document.addEventListener('click', (e) => {
                if (!subsetModal.contains(e.target) && !subsetMenuBtn.contains(e.target)) {
                    subsetModal.classList.add('hidden');
                }
            });
        });
        </script>
    </body>
</html>